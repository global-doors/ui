import{a as F,b as S,r as R,c as T,d as A,P as N,j as e,W as q,S as a,T as l,L as c,R as I,p as L,e as E,I as k}from"./index-ab26a8f3.js";import{u as B,F as C,R as t}from"./rhf-text-field-f6b9057a.js";import{c as H,a as n,o as G,L as M}from"./index.esm-aa21e974.js";import{A as W}from"./Alert-e9fc7ba5.js";import{I as _}from"./Close-718ca350.js";import"./Button-43f0af32.js";const Q=()=>{const{register:o}=F(),u=S(),[d,p]=R.useState(""),h=T().get("returnTo"),i=A(),x=H().shape({firstName:n().required("First name required"),lastName:n().required("Last name required"),email:n().required("Email is required").email("Email must be a valid email address"),password:n().required("Password is required")}),g={firstName:"",lastName:"",email:"",password:""},m=B({resolver:G(x),defaultValues:g}),{reset:j,handleSubmit:y,formState:{isSubmitting:f}}=m,b=y(async r=>{try{await(o==null?void 0:o(r.email,r.password,r.firstName,r.lastName)),u.push(h||N)}catch(s){console.error(s),j(),p(typeof s=="string"?s:s.message)}}),v=e.jsxs(a,{spacing:2,sx:{mb:5,position:"relative"},children:[e.jsx(l,{variant:"h4",children:"Get started absolutely free"}),e.jsxs(a,{direction:"row",spacing:.5,children:[e.jsx(l,{variant:"body2",children:" Already have an account? "}),e.jsx(c,{component:I,href:L.auth.jwt.login,variant:"subtitle2",children:"Sign in"})]})]}),w=e.jsxs(l,{component:"div",sx:{color:"text.secondary",mt:2.5,typography:"caption",textAlign:"center"},children:["By signing up, I agree to ",e.jsx(c,{color:"text.primary",href:"/",underline:"always",children:"Terms of Service"})," and ",e.jsx(c,{color:"text.primary",href:"/",underline:"always",children:"Privacy Policy"}),"."]}),P=e.jsx(C,{methods:m,onSubmit:b,children:e.jsxs(a,{spacing:2.5,children:[!!d&&e.jsx(W,{severity:"error",children:d}),e.jsxs(a,{direction:{xs:"column",sm:"row"},spacing:2,children:[e.jsx(t,{label:"First name",name:"firstName"}),e.jsx(t,{label:"Last name",name:"lastName"})]}),e.jsx(t,{label:"Email address",name:"email"}),e.jsx(t,{InputProps:{endAdornment:e.jsx(_,{position:"end",children:e.jsx(E,{edge:"end",onClick:i.onToggle,children:e.jsx(k,{icon:i.value?"solar:eye-bold":"solar:eye-closed-bold"})})})},label:"Password",name:"password",type:i.value?"text":"password"}),e.jsx(M,{color:"inherit",fullWidth:!0,loading:f,size:"large",type:"submit",variant:"contained",children:"Create account"})]})});return e.jsxs(e.Fragment,{children:[e.jsx(q,{children:e.jsx("title",{children:" Jwt: Register"})}),e.jsxs(e.Fragment,{children:[v,P,w]})]})};export{Q as default};
