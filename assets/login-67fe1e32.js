import{a as b,b as P,r as S,c as L,d as v,P as F,j as e,W as T,S as i,T as A,e as E,I,L as R,R as W,p as k}from"./index-46a484fa.js";import{u as q,F as B,R as d}from"./rhf-text-field-4367a7b2.js";import{c as H,a as l,o as C,L as M}from"./index.esm-b72c6388.js";import{A as _}from"./Alert-1c340a73.js";import{I as $}from"./Close-8b5cc956.js";import"./Button-e5596730.js";const K=()=>{const{login:r}=b(),c=P(),[a,m]=S.useState(""),u=L().get("returnTo"),o=v(),h=H().shape({email:l().required("Email is required").email("Email must be a valid email address"),password:l().required("Password is required")}),p={email:"demo@demo.com",password:"demo1234"},t=q({resolver:C(h),defaultValues:p}),{reset:x,handleSubmit:g,formState:{isSubmitting:j}}=t,f=g(async n=>{try{await(r==null?void 0:r(n.email,n.password)),c.push(u||F)}catch(s){console.error(s),x(),m(typeof s=="string"?s:s.message)}}),w=e.jsx(i,{spacing:2,sx:{mb:5},children:e.jsx(A,{variant:"h4",children:"Sign in"})}),y=e.jsxs(i,{spacing:2.5,sx:{minWidth:320},children:[!!a&&e.jsx(_,{severity:"error",children:a}),e.jsx(d,{fullWidth:!0,label:"Email address",name:"email"}),e.jsx(d,{fullWidth:!0,InputProps:{endAdornment:e.jsx($,{position:"end",children:e.jsx(E,{edge:"end",onClick:o.onToggle,children:e.jsx(I,{icon:o.value?"solar:eye-bold":"solar:eye-closed-bold"})})})},label:"Password",name:"password",type:o.value?"text":"password"}),e.jsx(R,{color:"inherit",component:W,href:k.auth.jwt.forgotPassword,sx:{alignSelf:"flex-end"},underline:"always",variant:"body2",children:"Forgot password?"}),e.jsx(M,{color:"inherit",fullWidth:!0,loading:j,size:"large",type:"submit",variant:"contained",children:"Login"})]});return e.jsxs(e.Fragment,{children:[e.jsx(T,{children:e.jsx("title",{children:" Jwt: Login"})}),e.jsxs(B,{methods:t,onSubmit:f,children:[w,y]})]})};export{K as default};
